{"ast":null,"code":"import _objectSpread from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import Profile from'./Profile';import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{getUserProfile,getStatus,updateStatus}from\"../../redux/profile-reducer\";import{withAuthRedirect}from'../../hoc/WithAuthRedirect';import{compose}from'redux';import{jsx as _jsx}from\"react/jsx-runtime\";var ProfileContainer=/*#__PURE__*/function(_React$Component){_inherits(ProfileContainer,_React$Component);var _super=_createSuper(ProfileContainer);function ProfileContainer(){_classCallCheck(this,ProfileContainer);return _super.apply(this,arguments);}_createClass(ProfileContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var userId=this.props.router.params.userId;if(!userId){userId=this.props.authorizedUserId;if(!userId){this.props.history.push(\"/login\");}}this.props.getUserProfile(userId);this.props.getStatus(userId);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Profile,_objectSpread(_objectSpread({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}));}}]);return ProfileContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profilePage.profile,status:state.profilePage.status,authorizedUserId:state.auth.userId,isAuth:state.auth.isAuth};};export default compose(connect(mapStateToProps,{getUserProfile:getUserProfile,getStatus:getStatus,updateStatus:updateStatus}),withRouter,withAuthRedirect)(ProfileContainer);//let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\nfunction withRouter(Component){function ComponentWithRouterProp(props){var location=useLocation();var navigate=useNavigate();var params=useParams();return/*#__PURE__*/_jsx(Component,_objectSpread(_objectSpread({},props),{},{router:{location:location,navigate:navigate,params:params}}));}return ComponentWithRouterProp;}//export default connect(mapStateToProps, {getUserProfile})(withRouter(AuthRedirectComponent));","map":{"version":3,"names":["React","connect","Profile","useLocation","useNavigate","useParams","getUserProfile","getStatus","updateStatus","withAuthRedirect","compose","ProfileContainer","userId","props","router","params","authorizedUserId","history","push","profile","status","Component","mapStateToProps","state","profilePage","auth","isAuth","withRouter","ComponentWithRouterProp","location","navigate"],"sources":["/home/natalie/ReactProjects/01/my-app/src/components/Profile/ProfileContainer.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Profile from './Profile';\nimport {\n    useLocation,\n    useNavigate,\n    useParams,\n} from \"react-router-dom\";\nimport {getUserProfile, getStatus, updateStatus} from \"../../redux/profile-reducer\"\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect';\nimport { compose } from 'redux';\n\nclass ProfileContainer extends React.Component{\n\n    componentDidMount() {\n        let userId = this.props.router.params.userId;\n        if(!userId){\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                this.props.history.push(\"/login\")\n            }\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    render() {\n\n        return (\n            <Profile {...this.props}\n                profile={this.props.profile}\n                status={this.props.status}\n                updateStatus={this.props.updateStatus} />\n        )\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n})\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)\n\n//let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\n\nfunction withRouter(Component) {\n    function ComponentWithRouterProp(props) {\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component\n                {...props}\n                router={{ location, navigate, params }}\n            />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\n//export default connect(mapStateToProps, {getUserProfile})(withRouter(AuthRedirectComponent));"],"mappings":"slBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,OACIC,WADJ,CAEIC,WAFJ,CAGIC,SAHJ,KAIO,kBAJP,CAKA,OAAQC,cAAR,CAAwBC,SAAxB,CAAmCC,YAAnC,KAAsD,6BAAtD,CACA,OAASC,gBAAT,KAAiC,4BAAjC,CACA,OAASC,OAAT,KAAwB,OAAxB,C,8CAEMC,iB,sSAEF,4BAAoB,CAChB,GAAIC,OAAM,CAAG,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,MAAlB,CAAyBH,MAAtC,CACA,GAAG,CAACA,MAAJ,CAAW,CACPA,MAAM,CAAG,KAAKC,KAAL,CAAWG,gBAApB,CACA,GAAI,CAACJ,MAAL,CAAa,CACT,KAAKC,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACH,CACJ,CACD,KAAKL,KAAL,CAAWP,cAAX,CAA0BM,MAA1B,EACA,KAAKC,KAAL,CAAWN,SAAX,CAAqBK,MAArB,EACH,C,sBAED,iBAAS,CAEL,mBACI,KAAC,OAAD,gCAAa,KAAKC,KAAlB,MACI,OAAO,CAAE,KAAKA,KAAL,CAAWM,OADxB,CAEI,MAAM,CAAE,KAAKN,KAAL,CAAWO,MAFvB,CAGI,YAAY,CAAE,KAAKP,KAAL,CAAWL,YAH7B,GADJ,CAMH,C,8BAtB0BR,KAAK,CAACqB,S,EAyBrC,GAAIC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,QAAY,CAC9BJ,OAAO,CAAEI,KAAK,CAACC,WAAN,CAAkBL,OADG,CAE9BC,MAAM,CAAEG,KAAK,CAACC,WAAN,CAAkBJ,MAFI,CAG9BJ,gBAAgB,CAAEO,KAAK,CAACE,IAAN,CAAWb,MAHC,CAI9Bc,MAAM,CAAEH,KAAK,CAACE,IAAN,CAAWC,MAJW,CAAZ,EAAtB,CAOA,cAAehB,QAAO,CAClBT,OAAO,CAACqB,eAAD,CAAkB,CAAChB,cAAc,CAAdA,cAAD,CAAiBC,SAAS,CAATA,SAAjB,CAA4BC,YAAY,CAAZA,YAA5B,CAAlB,CADW,CAElBmB,UAFkB,CAGlBlB,gBAHkB,CAAP,CAIbE,gBAJa,CAAf,CAMA;AAEA,QAASgB,WAAT,CAAoBN,SAApB,CAA+B,CAC3B,QAASO,wBAAT,CAAiCf,KAAjC,CAAwC,CACpC,GAAIgB,SAAQ,CAAG1B,WAAW,EAA1B,CACA,GAAI2B,SAAQ,CAAG1B,WAAW,EAA1B,CACA,GAAIW,OAAM,CAAGV,SAAS,EAAtB,CACA,mBACI,KAAC,SAAD,gCACQQ,KADR,MAEI,MAAM,CAAE,CAAEgB,QAAQ,CAARA,QAAF,CAAYC,QAAQ,CAARA,QAAZ,CAAsBf,MAAM,CAANA,MAAtB,CAFZ,GADJ,CAMH,CAED,MAAOa,wBAAP,CACH,CAED"},"metadata":{},"sourceType":"module"}