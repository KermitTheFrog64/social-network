{"ast":null,"code":"import _classCallCheck from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/natalie/ReactProjects/01/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from\"axios\";import React from\"react\";import{connect}from\"react-redux\";import{requestUsers,getUsersByPage,follow,setCurrentPage,toggleFollowingProgress,unfollow}from\"../../redux/users-reducer\";import Users from\"./Users\";import Preloader from\"../common/Preloader/Preloader\";import{compose}from\"redux\";import{getUsers,getPageSize,getTotalUsersCount,getCurrentPage,getIsFetching,getFollowingInProgress}from\"../../redux/users-selectors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersContainer=/*#__PURE__*/function(_React$Component){_inherits(UsersContainer,_React$Component);var _super=_createSuper(UsersContainer);function UsersContainer(){var _this;_classCallCheck(this,UsersContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onPageChanged=function(pageNumber){var pageSize=_this.props.pageSize;_this.props.getUsersByPage(pageNumber,pageSize);};return _this;}_createClass(UsersContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,currentPage=_this$props.currentPage,pageSize=_this$props.pageSize;this.props.requestUsers(currentPage,pageSize);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.props.isFetching&&/*#__PURE__*/_jsx(Preloader,{}),/*#__PURE__*/_jsx(Users,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,onPageChanged:this.onPageChanged,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress})]});}}]);return UsersContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{users:getUsers(state),pageSize:getPageSize(state),totalUsersCount:getTotalUsersCount(state),currentPage:getCurrentPage(state),isFetching:getIsFetching(state),followingInProgress:getFollowingInProgress(state)};};/* let mapDispatchToProps = (dispatch) => {\n    return {\n        follow: (userId) => {\n            dispatch(followAC(userId))\n        },\n        unfollow: (userId) => {\n            dispatch(unfollowAC(userId))\n        },\n        setUsers: (users) => {\n            dispatch(setUsersAC(users))\n        },\n        setCurrentPage: (pageNumber) => {\n            dispatch(setCurrentPageAC(pageNumber))\n        },\n        setTotalUsersCount: (totalCount) => {\n            dispatch(setTotalUsersCountAC(totalCount))\n        },\n        toggleIsFetching: (isFetching) => {\n            dispatch(toggleIsFetchingAC(isFetching))\n        }\n    }\n} */export default compose(//withAuthRedirect,\nconnect(mapStateToProps,{follow:follow,unfollow:unfollow,setCurrentPage:setCurrentPage,toggleFollowingProgress:toggleFollowingProgress,requestUsers:requestUsers,getUsersByPage:getUsersByPage}))(UsersContainer);","map":{"version":3,"names":["axios","React","connect","requestUsers","getUsersByPage","follow","setCurrentPage","toggleFollowingProgress","unfollow","Users","Preloader","compose","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","onPageChanged","pageNumber","pageSize","props","currentPage","isFetching","totalUsersCount","users","followingInProgress","Component","mapStateToProps","state"],"sources":["/home/natalie/ReactProjects/01/my-app/src/components/Users/UsersContainer.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { requestUsers, getUsersByPage, follow, setCurrentPage, toggleFollowingProgress, unfollow } from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport { compose } from \"redux\";\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from \"../../redux/users-selectors\";\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.requestUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.getUsersByPage(pageNumber, pageSize);\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching && <Preloader />}\n            <Users totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                users={this.props.users}\n                unfollow={this.props.unfollow}\n                follow={this.props.follow}\n                onPageChanged={this.onPageChanged}\n                toggleFollowingProgress={this.props.toggleFollowingProgress}\n                followingInProgress={this.props.followingInProgress} />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\n/* let mapDispatchToProps = (dispatch) => {\n    return {\n        follow: (userId) => {\n            dispatch(followAC(userId))\n        },\n        unfollow: (userId) => {\n            dispatch(unfollowAC(userId))\n        },\n        setUsers: (users) => {\n            dispatch(setUsersAC(users))\n        },\n        setCurrentPage: (pageNumber) => {\n            dispatch(setCurrentPageAC(pageNumber))\n        },\n        setTotalUsersCount: (totalCount) => {\n            dispatch(setTotalUsersCountAC(totalCount))\n        },\n        toggleIsFetching: (isFetching) => {\n            dispatch(toggleIsFetchingAC(isFetching))\n        }\n    }\n} */\n\nexport default compose(\n    //withAuthRedirect,\n    connect(mapStateToProps, {\n        follow,\n        unfollow,\n        setCurrentPage,\n        toggleFollowingProgress,\n        requestUsers,\n        getUsersByPage\n    })\n)(UsersContainer);"],"mappings":"4dAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,YAAT,CAAuBC,cAAvB,CAAuCC,MAAvC,CAA+CC,cAA/C,CAA+DC,uBAA/D,CAAwFC,QAAxF,KAAwG,2BAAxG,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,UAAP,KAAsB,+BAAtB,CACA,OAASC,OAAT,KAAwB,OAAxB,CACA,OAASC,QAAT,CAAmBC,WAAnB,CAAgCC,kBAAhC,CAAoDC,cAApD,CAAoEC,aAApE,CAAmFC,sBAAnF,KAAiH,6BAAjH,C,gJAGMC,e,uWAOFC,a,CAAgB,SAACC,UAAD,CAAgB,CAC5B,GAAOC,SAAP,CAAmB,MAAKC,KAAxB,CAAOD,QAAP,CACA,MAAKC,KAAL,CAAWlB,cAAX,CAA0BgB,UAA1B,CAAsCC,QAAtC,EACH,C,2EARD,4BAAoB,CAChB,gBAAgC,KAAKC,KAArC,CAAOC,WAAP,aAAOA,WAAP,CAAoBF,QAApB,aAAoBA,QAApB,CACA,KAAKC,KAAL,CAAWnB,YAAX,CAAwBoB,WAAxB,CAAqCF,QAArC,EACH,C,sBAOD,iBAAS,CACL,mBAAO,2BACF,KAAKC,KAAL,CAAWE,UAAX,eAAyB,KAAC,SAAD,IADvB,cAEH,KAAC,KAAD,EAAO,eAAe,CAAE,KAAKF,KAAL,CAAWG,eAAnC,CACI,QAAQ,CAAE,KAAKH,KAAL,CAAWD,QADzB,CAEI,WAAW,CAAE,KAAKC,KAAL,CAAWC,WAF5B,CAGI,KAAK,CAAE,KAAKD,KAAL,CAAWI,KAHtB,CAII,QAAQ,CAAE,KAAKJ,KAAL,CAAWd,QAJzB,CAKI,MAAM,CAAE,KAAKc,KAAL,CAAWjB,MALvB,CAMI,aAAa,CAAE,KAAKc,aANxB,CAOI,uBAAuB,CAAE,KAAKG,KAAL,CAAWf,uBAPxC,CAQI,mBAAmB,CAAE,KAAKe,KAAL,CAAWK,mBARpC,EAFG,GAAP,CAYH,C,4BAzBwB1B,KAAK,CAAC2B,S,EA4BnC,GAAIC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CAC7B,MAAO,CACHJ,KAAK,CAAEd,QAAQ,CAACkB,KAAD,CADZ,CAEHT,QAAQ,CAAER,WAAW,CAACiB,KAAD,CAFlB,CAGHL,eAAe,CAAEX,kBAAkB,CAACgB,KAAD,CAHhC,CAIHP,WAAW,CAAER,cAAc,CAACe,KAAD,CAJxB,CAKHN,UAAU,CAAER,aAAa,CAACc,KAAD,CALtB,CAMHH,mBAAmB,CAAEV,sBAAsB,CAACa,KAAD,CANxC,CAAP,CAQH,CATD,CAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAEA,cAAenB,QAAO,CAClB;AACAT,OAAO,CAAC2B,eAAD,CAAkB,CACrBxB,MAAM,CAANA,MADqB,CAErBG,QAAQ,CAARA,QAFqB,CAGrBF,cAAc,CAAdA,cAHqB,CAIrBC,uBAAuB,CAAvBA,uBAJqB,CAKrBJ,YAAY,CAAZA,YALqB,CAMrBC,cAAc,CAAdA,cANqB,CAAlB,CAFW,CAAP,CAUbc,cAVa,CAAf"},"metadata":{},"sourceType":"module"}